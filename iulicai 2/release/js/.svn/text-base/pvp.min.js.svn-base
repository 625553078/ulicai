/*! LC 04-11-2015 */
function verifyTel(a){if(!/^1[3|4|5|7|8][0-9]\d{8}$/.test(a)){var b={body:"<p>请输入正确的手机号码</p>",buttons:{action:{title:"确定",fn:basicModal.close}}};return void basicModal.show(b)}}function verifyPass(a){if(!/^[a-zA-Z0-9!@#$%^&*()]{6,20}$/.test(a)){var b={body:"<p>密码格式错误</p>",buttons:{action:{title:"确定",fn:basicModal.close}}};return void basicModal.show(b)}}var ipAddr="http://cz.iulicai.com:8080/ulicai";AllUrl={registUrl:ipAddr+"/user/register.htm?",loginUrl:ipAddr+"/user/login.htm?",logout:ipAddr+"/user/logout.htm?",modPass:ipAddr+"/user/modPwd.htm?",findPass:ipAddr+"/user/findPwd.htm?",sendRegCode:ipAddr+"/sms/genRegCode.html?",sendModCode:ipAddr+"/sms/genModCode.htm?",sendFindCode:ipAddr+"/sms/genFindCode.htm?",acctInfo:ipAddr+"/acct/assertStat.htm",earnDay:ipAddr+"/acct/dayEarns.htm?",totalEarns:ipAddr+"/acct/ordEarns.htm?",accDetail:ipAddr+"/acct/books.htm",bonusUrl:ipAddr+"/acct/acctCoupons.htm?",getProds:ipAddr+"/prodqry/getprods4page.htm?",getRevenue:ipAddr+"/pay/prosRevenue.htm?",getOrds:ipAddr+"/order/getorders4page.htm?",getCardList:ipAddr+"/pay/infoQuery.htm?operate=query_bankcard_list",bindCard:ipAddr+"/pay/infoQuery.htm?operate=query_card_bin"};var BonusType={a:"好友红包",b:"注册红包"},BankName={a:"中国工商银行",b:"招商银行"},PayStatus={0:"未支付-初始化",1:"支付处理中",2:"已付款",3:"支付失败"};!function(a,b){var c=b.module.View,d=b.module.Page;c.fn.delegateEvents=d.fn.delegateEvents=function(a){var b=this.$el,c=this;b&&a.forEach(function(a){c[a[2]]&&(a[2]=c[a[2]]),b&&b.on(a[0],a[1],function(b){a[2].apply(c,arguments)})})},c.fn.undelegateEvents=d.fn.undelegateEvents=function(){this.$el&&this.$el.off()},b.plugin.domevent={onPageStartup:function(a,b){a.events&&a.delegateEvents(a.events)},onPageTeardown:function(a,b){a.undelegateEvents()},onViewRender:function(a,b){!a._isDelegateEvents&&a.events&&(a._isDelegateEvents=!0,a.delegateEvents(a.events))},onViewDestory:function(a,b){a.undelegateEvents(),a._isDelegateEvents=!1}}}(window,window.app),function(a,b){a.document;b.plugin.lazyload={_options:null,_domready:!1,handleEvent:function(a){"scrollend"===a.type&&this._domready&&this.check()},check:function(){for(var a=this._options,c=a.dataAttr||"data-src",d=b.scroll.getElement().querySelectorAll("img["+c+"]"),e=b.scroll.getScrollTop(),f=e+b.scroll.getViewHeight(),g=0;g<d.length;g++){var h,i=d[g],j=b.scroll.offset(i);(j.top>e&&j.top<f||j.bottom>e&&j.bottom<f)&&(h=i.getAttribute(c))&&(i.setAttribute("src",h),i.removeAttribute(c))}},onNavigationSwitch:function(){this._domready=!1},onDomReady:function(a){this._options=a,this._domready=!0,this.check()},onPageShow:function(a,c){this._options=c,b.scroll.addEventListener("scrollend",this,!1)},onPageHide:function(a,c){b.scroll.removeEventListener("scrollend",this)}}}(window,window.app),function(a,b){var c,d,e,f=a.document,g=(b.config,[]);b.plugin.loading={show:function(a){if(a&&(e.innerHTML=a,"block"!==d.style.display)){d.style.display="block";var b=document.body.getBoundingClientRect(),c=e.getBoundingClientRect();e.style.left=(b.width-c.width)/2+"px",e.style.top=(window.innerHeight-c.height)/2-b.top+"px"}var f=Date.now();return g.push(f),f},hide:function(a){a?g.splice(g.indexOf(a),1):g=[],0===g.length&&(e.innerHTML="",d.style.display="none")},onAppStart:function(){d=document.createElement("div"),d.className="loading",d.style.cssText=["display: none","background: transparent","position: absolute","width: 100%","height: 100%","left: 0","top: 0","overflow: hidden","z-index: 99999"].join(";"),e=document.createElement("div"),e.style.cssText=["position:absolute","width: 100px","height: 90px","line-height: 100px","background-color: rgba(0,0,0,0.5)","color: #FFF","text-align: center","font-size: 11px","border-radius: 13px"].join(";"),d.appendChild(e),f.body.appendChild(d)},onNavigationSwitch:function(){c=this.show("正在加载")},onDomReady:function(){this.hide(c)}}}(window,window.app),function(a,b){var c=a.document,d=(b.config,50);b.plugin.pullbounce={_options:null,_page:null,_pullType:!1,_onPullStart:function(){var a=this._page,b=this._options,c=a.el.parentNode;b.onPullDown&&(c.querySelector("#J_pullRefresh").style.visibility="visible"),b.onPullUp&&(c.querySelector("#J_pullUpdate").style.visibility="visible")},_onPullDown:function(a){var b=this._page,c=b.el.parentNode.querySelector("#J_pullRefresh span");c.innerText;c.innerText=""},_onPullUp:function(a){var b=this._page,c=b.el.parentNode.querySelector("#J_pullUpdate span");c.innerText;c.innerText=""},_onPullEnd:function(){b.scroll.refresh(),b.scroll.resumeBounce()},handleEvent:function(a){var c=this,d=this._page,e=this._options,f=b.scroll.getBoundaryOffset();"panstart"===a.type?(b.scroll.refresh(),b.scroll.resumeBounce(),console.log("start"),this._onPullStart()):"pulldown"===a.type?(this._pullType="PullDown",this._onPullDown(f)):"pullup"===a.type?(this._pullType="PullUp",this._onPullUp(f)):"panend"===a.type&&f&&this._pullType&&setTimeout(function(){var a=e["on"+c._pullType];"string"==typeof a&&(a=d[a]),a?a.call(d,c._onPullEnd):c._onPullEnd()},400)},onAppStart:function(){var a=c.styleSheets[0];a.addRule("#J_pullRefresh, #J_pullUpdate",["visibility: hidden;","width: 100%;","padding: 10px;","height: "+d+"px;","line-height: 30px;","box-sizing: border-box;","background-color: #FFF;","font-size: 12px;","color: #999;"].join(""))},onPageDefine:function(a,b){a.scroll={bounceTop:b.onPullDown?d:0,bounceBottom:b.onPullUp?d:0}},onPageStartup:function(a,b){a.el.innerHTML=(b.onPullDown?'<section id="J_pullRefresh"><span></span></section>':"")+'<section id="J_pullContent"></section>'+(b.onPullUp?'<section id="J_pullUpdate"><span></span></section>':""),a.el=a.el.querySelector("#J_pullContent")},onPageShow:function(a,c){"J_pullContent"!==a.el.getAttribute("id")&&(a.el=a.el.querySelector("#J_pullContent")),this._page=a,this._options=c,this._pullType=!1,c.onPullDown&&b.scroll.addEventListener("pulldown",this,!1),c.onPullUp&&b.scroll.addEventListener("pullup",this,!1),b.scroll.addEventListener("panstart",this,!1),b.scroll.addEventListener("panend",this,!1)},onPageHide:function(a,c){c.onPullDown&&b.scroll.removeEventListener("pulldown",this,!1),c.onPullUp&&b.scroll.removeEventListener("pullup",this,!1),b.scroll.removeEventListener("panstart",this,!1),b.scroll.removeEventListener("panend",this,!1)}}}(window,window.app),function(a,b){a.document;b.plugin.scrollpos={_options:null,_domready:!1,handleEvent:function(a){"scrollend"===a.type&&this._domready&&this.setPos()},setPos:function(){this._options.pos=b.scroll.getScrollTop()},reset:function(a){var c=this._options;null!=a&&(c.pos=a),b.scroll.scrollTo(c.pos)},onNavigationSwitch:function(){this._domready=!1},onDomReady:function(a){this._options=a,this._domready=!0,this.reset()},onPageShow:function(a,c){b.scroll.addEventListener("scrollend",this,!1)},onPageHide:function(a,c){b.scroll.removeEventListener("scrollend",this)}}}(window,window.app),function(a,b){var c,d,e,f,g=a.document,h=b.module.Transition,i=b.module.Scroll,j=b.module.Navigation.instance,k=j.getStack(),l=b.config,m=[];b.extendView({name:"slideview",slideIn:function(){var a=this,j=document.createElement("div"),k=m[m.length-1];if(j.style.cssText="z-index:"+(m.length+1e3)+";position:absolute;width:100%;height:100%;left:0;top:0;background:#FFF;",j.appendChild(this.el),d.appendChild(j),0===m.length){var n=0,o=g.body.getBoundingClientRect().height;l.enableNavbar&&(n=l.enableNavbar.wrapEl.getBoundingClientRect().height),l.enableScroll&&(o=window.innerHeight),d.style.height=o-n+"px",d.style.top=n+window.scrollY+"px",d.style.display="";var p=d.getBoundingClientRect();e=p.width,f=p.height}m.push({lastHeader:{title:c.pageMeta.title,buttons:c.pageMeta.buttons},wrap:j,view:this}),b.navigation.resetNavbar(),h.slide(j,"RI",e,function(){k&&(k.wrap.style.display="none"),b.navigation.setButton({type:"back",text:"返回",handler:function(){a.slideOut()}}),a.el.getBoundingClientRect().height>f&&i.enable(a.el),a.show&&a.show()})},slideOut:function(){var a=this,c=m.pop(),f=c.wrap,g=c.lastHeader,j=m[m.length-1];j&&(j.wrap.style.display=""),h.slide(f,"RO",e,function(){i.disable(c.view.el),d.removeChild(f),a.hide&&a.hide(),b.navigation.resetNavbar(),b.navigation.setTitle(g.title),b.navigation.setButton(g.buttons),0===m.length&&(d.style.display="none")})},close:function(){var a=m.pop(),c=a.wrap;h.slide(c,"RO",e,function(){for(;m.length;)a=m.pop(),a.view.hide&&a.view.hide();var c=a.lastHeader;b.navigation.resetNavbar(),b.navigation.setTitle(c.title),b.navigation.setButton(c.buttons),d.innerHTML="",d.style.display="none"})}}),b.plugin.slideview={onAppStart:function(){d=document.createElement("div"),d.style.cssText="z-index:999;display:none;position:absolute;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0);overflow:hidden;",g.body.appendChild(d)},onNavigationSwitch:function(){if(m.length&&c){var a=m.shift();c.pageMeta.title=a.lastHeader.title,c.pageMeta.buttons=a.lastHeader.buttons,d.innerHTML="",d.style.display="none"}c=k.getState()}}}(window,window.app),function(a,b){function c(a){var b={};for(var d in a)if("pageMeta"!==d&&"plugins"!==d){var e=Object.prototype.toString.call(a[d]);"[object Number]"===e||"[object String]"===e?b[d]=a[d]:"[object Array]"===e?b[d]=a[d].map(function(a){return c(a)}):"[object Object]"===e&&(b[d]=c(a[d]))}return b}var d=a.sessionStorage,e=b.module.Navigation.instance.getStack(),f="mix_storage_001_";try{d.setItem("testPrivateModel","false")}catch(g){return console.error("run@private model",window.navigator.appVersion)}b.plugin.stateStorage={saveAll:function(){d.setItem(f+"state_index",e._stateIdx),d.setItem(f+"state_length",e._states.length),e._states.forEach(function(a,b){d.setItem(f+"state_item["+b+"]",JSON.stringify(c(a)))})},save:function(){var a=e._stateIdx,b=e._states[a];d.setItem(f+"state_item["+a+"]",JSON.stringify(c(b)))},loadAll:function(){var a,b;for(e._stateIdx=parseInt(d.getItem(f+"state_index")||0),a=parseInt(d.getItem(f+"state_length")||0),b=0;a>b;b++)e._states[b]=JSON.parse(d.getItem(f+"state_item["+b+"]")||"{}")},load:function(){var a=e._stateIdx;e._states[a]=JSON.parse(d.getItem(f+"state_item["+a+"]")||"{}")},clear:function(){var a=e._stateLimit;d.removeItem(f+"state_index"),d.removeItem(f+"state_length");for(var b=0;a>b;b++)d.removeItem(f+"state_item["+b+"]")},onNavigationSwitch:function(){this.saveAll()},onAppStart:function(){this.loadAll()}}}(window,window.app),function(a,b){a.extendView({name:"earnDayView",el:"div.dayEarn",template:'{{#dayEarnslist}}<span class="earnRecord" data-total="{{totalDailyEarn}}元">{{earnDay}}</span>{{/dayEarnslist}}',pageno:1,plugins:{domevent:!0},_getNextPage:function(a){var b=this,c=b.pageno,d=AllUrl.earnDay+"page="+c;$.ajax({url:d,dataType:"jsonp",success:function(b){var c=b.data,d=c.ordEarnslist||[],e=d.length||0;if(0==e){var f={body:"<p>已显示全部</p>",buttons:{action:{title:"确定",fn:basicModal.close}}};return void basicModal.show(f)}a(c)}})},_getPageOne:function(a){var b=AllUrl.earnDay+"page=1";$.ajax({url:b,dataType:"jsonp",success:function(b){console.log(b);var c=b.data;a(c)}})},render:function(a){var b=this;b._getPageOne(function(c){var d=b.template(c);b.$el.html(d),a&&a()})},renderMore:function(a){var b=this;b.pageno++,b._getNextPage(function(c){var d=b.template(c);console.log(d),b.$el.append(d),a&&a()})},destroy:function(){}})}(window.app),function(a,b){a.extendView({name:"invalidBonusView",el:"article.invalid",template:"./templates/invalidBonus.tpl",pageno:1,plugins:{domevent:!0},_getNextPage:function(a){var b=this,c=b.pageno,d=AllUrl.bonusUrl+"status=3&queryType=4&page="+c;$.ajax({url:d,dataType:"jsonp",success:function(b){var c=b.data,d=c.acctCouponList,e=d.length;if(0==e){var f={body:"<p>已显示全部</p>",buttons:{action:{title:"确定",fn:basicModal.close}}};return void basicModal.show(f)}a(c)}})},_getPageOne:function(a){var b=AllUrl.bonusUrl+"status=3&queryType=4&page=1";$.ajax({url:b,dataType:"jsonp",success:function(b){console.log(b);var c=b.data;a(c)}})},render:function(a){var b=this;b._getPageOne(function(c){var d=b.template(c);0==c.acctCouponList.length?b.$el.html("<div class='noData'>暂无失效红包</div>"):b.$el.html(d),a&&a()})},renderMore:function(a){var b=this;b.pageno++,b._getNextPage(function(c){var d=b.template(c);console.log(d),b.$el.append(d),a&&a()})},destroy:function(){}})}(window.app),function(a,b){a.extendView({name:"searchItems",template:"./templates/searchItems.tpl",word:null,page:1,_itemClickHandler:function(b,c){var d=this;b.preventDefault(),a.navigation.push("detail/"+d.getAttribute("dataid")+"/")},_getSearchItems:function(a){var b=this,c=(b.word,b.page,"/ulicai/data/data1.json");$.ajax({url:c,dataType:"json",success:function(b){console.log(b),a(b)},error:function(){console.log("ajax error")}})},render:function(a){var b=this;b._getSearchItems(function(c){console.log(c),b.renderTemplate(c,function(c){b._el=$(c),b._el.on("click","a",b._itemClickHandler),a(b._el)})})},destroy:function(){this._el&&this._el.off("click","a",this._itemClickHandler)}})}(window.app),function(a,b){a.extendView({name:"supermarketView",el:"div.rec-content",template:"./templates/supermarketItem.tpl",pageno:1,events:[["click","ul","_itemClickHandler"]],plugins:{domevent:!0},_itemClickHandler:function(b){b.preventDefault();var c=$(b.currentTarget).attr("data-proId");a.navigation.push("/productDetails",{type:"GET",data:{productId:c}})},_getSearchItems:function(a){var b=this,c=b.pageno,d=AllUrl.getProds+"&page="+c;$.ajax({url:d,dataType:"jsonp",success:function(b){if(console.log(b.data),0==b.data.upProductList.length){var c={body:"<p>已显示全部</p>",buttons:{action:{title:"确定",fn:basicModal.close}}};return void basicModal.show(c)}a(b.data)}})},_getPageOne:function(a){var b=AllUrl.getProds+"&page=0";$.ajax({url:b,dataType:"jsonp",success:function(b){a(b.data)}})},render:function(a){var b=this;b._getPageOne(function(c){var d=b.template(c);0==c.upProductList.length?b.$el.html("<div class='noData'>暂无理财产品</div>"):b.$el.html(d),b.$el.html(d),a&&a()})},renderMore:function(a){var b=this;b.pageno++,b._getSearchItems(function(c){var d=b.template(c);console.log(d),b.$el.append(d),a&&a()})},destroy:function(){}})}(window.app),function(a,b){a.extendView({name:"totalEarnView",el:"div.totalEarn",template:'{{#ordEarnslist}}<span class="earnRecord" data-total="{{ordTotalEarns}}元/{{dayCount}}天">{{productName}}</span>{{/ordEarnslist}}',pageno:1,plugins:{domevent:!0},_getNextPage:function(a){var b=this,c=b.pageno,d=AllUrl.totalEarns+"page="+c;$.ajax({url:d,dataType:"jsonp",success:function(b){var c=b.data,d=c.ordEarnslist||[],e=d.length||0;if(0==e){var f={body:"<p>已显示全部</p>",buttons:{action:{title:"确定",fn:basicModal.close}}};return void basicModal.show(f)}a(c)}})},_getPageOne:function(a){var b=AllUrl.totalEarns+"page=1";$.ajax({url:b,dataType:"jsonp",success:function(b){console.log(b);var c=b.data;a(c)}})},render:function(a){var b=this;b._getPageOne(function(c){var d=b.template(c);b.$el.html(d),a&&a()})},renderMore:function(a){var b=this;b.pageno++,b._getNextPage(function(c){var d=b.template(c);console.log(d),b.$el.append(d),a&&a()})},destroy:function(){}})}(window.app),function(a,b){a.extendView({name:"transactionView",el:"div#transactionList",template:"./templates/transactionView.tpl",pageno:1,plugins:{domevent:!0},_getNextPage:function(a){var b=this,c=b.pageno,d=AllUrl.getOrds+"&orderId=189990012872&page="+c;$.ajax({url:d,dataType:"jsonp",success:function(b){var c=b.data,d=c.ordProdDtoList,e=d.length;if(0==e){var f={body:"<p>已显示全部</p>",buttons:{action:{title:"确定",fn:basicModal.close}}};return void basicModal.show(f)}for(var g=0;e>g;g++){var h=d[g].payStatus;console.log(h),"undefined"!==PayStatus[h]&&(c.ordProdDtoList[g].payStatus=PayStatus[h])}a(c)}})},_getPageOne:function(a){var b=AllUrl.getOrds+"&page=0";$.ajax({url:b,dataType:"jsonp",success:function(b){console.log(b);var c=b.data,d=c.ordProdDtoList,e=d.length;if(0==e){var f={body:"<p>暂无订单。</p>",buttons:{action:{title:"关闭",fn:basicModal.close}}};basicModal.show(f)}for(var g=0;e>g;g++){var h=d[g].payStatus;console.log(h),"undefined"!==PayStatus[h]&&(c.ordProdDtoList[g].payStatus=PayStatus[h])}a(c)}})},render:function(a){var b=this;b._getPageOne(function(c){var d=b.template(c);b.$el.html(d),a&&a()})},renderMore:function(a){var b=this;b.pageno++,b._getNextPage(function(c){var d=b.template(c);console.log(d),b.$el.append(d),a&&a()})},destroy:function(){}})}(window.app),function(a,b){a.extendView({name:"validBonusView",el:"article.valid",template:"./templates/validBonus.tpl",pageno:1,plugins:{domevent:!0},_getNextPage:function(a){var b=this,c=b.pageno,d=AllUrl.bonusUrl+"status=1&queryType=1&page="+c;$.ajax({url:d,dataType:"jsonp",success:function(b){var c=b.data,d=c.acctCouponList,e=d.length;if(0==e){var f={body:"<p>已显示全部</p>",buttons:{action:{title:"确定",fn:basicModal.close}}};return void basicModal.show(f)}a(c)}})},_getPageOne:function(a){var b=AllUrl.bonusUrl+"status=1&queryType=1&page=1";$.ajax({url:b,dataType:"jsonp",success:function(b){console.log(b);var c=b.data;a(c)}})},render:function(a){var b=this;b._getPageOne(function(c){var d=b.template(c);b.$el.html(d),a&&a()})},renderMore:function(a){var b=this;b.pageno++,b._getNextPage(function(c){var d=b.template(c);0==c.acctCouponList.length?b.$el.html("<div class='noData'>暂无可用红包</div>"):b.$el.html(d),a&&a()})},destroy:function(){}})}(window.app),function(a,b){a.definePage({name:"addCard",title:"添加银行卡",route:"/addDebitCard",template:"./templates/addDebitCard.tpl",buttons:[{type:"back",text:"< 返回"}],plugins:{domevent:!0,pullbounce:{}},startup:function(){var a=this,b=a.template();a.html(b),$(document).on("touchend","#addDebitCard .btn",function(){var a=$("#addDebitCard #cardNum").val();$.ajax({url:AllUrl.bindCard,dataType:"jsonp",data:{card_no:a,card_type:window.app.navigation.getParameter("card_type")},success:function(a){if(0==a.code){var b={body:"<p>绑定成功</p>",buttons:{action:{title:"关闭",fn:function(){$("#addDebitCard #cardNum").val(""),basicModal.close()}}}};basicModal.show(b)}else{var b={body:"<p>绑定失败："+a.message+"</p>",buttons:{action:{title:"关闭",fn:function(){$("#addDebitCard #cardNum").val(""),basicModal.close()}}}};basicModal.show(b)}},error:function(a){console.log(a)}})})},show:function(){},hide:function(){},teardown:function(){}})}(window.app),function(a,b){a.definePage({name:"assetDetails",title:"投资记录",route:"/assetDetails",template:"./templates/assetDetails.tpl",buttons:[{type:"back",text:"< 返回"}],toolbar:{html:'<nav class="footnav" id="foot-nav"><a class="reco-cur" href="/ulicai/index.html?" dataid="reco">首页</a> <a class="supe" href="/ulicai/index.html?#/supe" dataid="supe">理财推荐</a> <a class="asse" href="" dataid="asse">我的账户</a> <a class="more" href="/ulicai/index.html?#/more" dataid="more">更多</a> </nav>',height:50},plugins:{domevent:!0,pullbounce:{}},_getDta:function(a){$.ajax({url:"/ulicai/data/assetDetails.json",dataType:"json",success:function(b){a(b)}})},startup:function(){var a=this;a._getDta(function(b){var c=a.template(b);a.html(c)}),$(document).on("tap","#assetDetails li",function(a){switch($("#assetDetails li").removeClass("cur"),this.className="cur",$(this).attr("data-type")){case"all":$(".all").show(),$(".undue").hide(),$(".repay").hide(),$(".paid").hide();break;case"undue":$(".all").hide(),$(".undue").show(),$(".repay").hide(),$(".paid").hide();break;case"repay":$(".all").hide(),$(".undue").hide(),$(".repay").show(),$(".paid").hide();break;case"paid":$(".all").hide(),$(".undue").hide(),$(".repay").hide(),$(".paid").show();break;default:return}})},show:function(){},hide:function(){},teardown:function(){}})}(window.app),function(a,b){a.definePage({name:"assets",title:"我的账户",route:"/asse",template:"./templates/assets.tpl",buttons:[{type:"back",text:"< 返回"}],plugins:{domevent:!0,pullbounce:{onPullDown:"_onPullDownHandler",onPullUp:"_onPullUpHandler"}},_onPullDownHandler:function(a){},_onPullUpHandler:function(a){},toolbar:{html:'<nav class="footnav" id="foot-nav"><a class="reco" href="/ulicai/index.html?" dataid="reco">首页</a> <a class="supe" href="/ulicai/index.html?#/supe" dataid="supe">理财推荐</a> <a class="asse-cur" href="" dataid="asse">我的账户</a> <a class="more" href="/ulicai/index.html?#/more" dataid="more">更多</a> </nav>',height:50},_getDta:function(a){var b=AllUrl.acctInfo;$.ajax({url:b,dataType:"jsonp",success:function(b){if(console.log(1),console.log(b),"0000"!=b.code){var c={body:"<p>数据查询出错</p>",buttons:{action:{title:"关闭",fn:basicModal.close}}};return void basicModal.show(c)}a(b.data)}})},startup:function(){var a=this;a._getDta(function(b){var c=a.template(b);a.html(c)}),$(document).on("touchend",".assets,.allIncom",function(a){var b=$(a.currentTarget)[0].className;console.log(b),-1!==b.indexOf("assets")?window.app.navigation.push("/earnDay"):-1!==b.indexOf("allIncom")&&window.app.navigation.push("/totalEarn")}),$(document).on("touchend",".userCtrl span",function(a){var b=$(a.currentTarget)[0].className;"logout"==b?$.ajax({url:AllUrl.logout,dataType:"jsonp",success:function(a){window.app.navigation.push("/login")}}):"modPass"==b&&window.app.navigation.push("/modPass")}),$(document).on("touchend",".account-nav li",function(a){var b=$(a.currentTarget)[0].className;-1!=b.indexOf("invest")?window.app.navigation.push("/assetDetails"):-1!=b.indexOf("trade")?window.app.navigation.push("/transaction"):-1!=b.indexOf("bonus")?window.app.navigation.push("/bonus"):-1!=b.indexOf("card")&&window.app.navigation.push("/manageCard")})},show:function(){},hide:function(){},teardown:function(){}})}(window.app),function(a,b){a.definePage({name:"baseInfo",title:"项目详情",route:"/baseInfo",template:"./templates/baseInfo.tpl",buttons:[{type:"back",text:"< 返回"}],plugins:{domevent:!0,pullbounce:{onPullDown:"_onPullDownHandler",onPullUp:"_onPullUpHandler"}},_onPullDownHandler:function(a){},_onPullUpHandler:function(a){},startup:function(){var a=this,b=a.template({});a.html(b)},show:function(){},hide:function(){},teardown:function(){}})}(window.app),function(a,b){a.definePage({name:"bonus",title:"我的红包",route:"/bonus",template:"./templates/bonus.tpl",buttons:[{type:"back",text:"< 返回"}],plugins:{dynamic:!0,lazyload:!0,scrollpos:!0,domevent:!0,pullbounce:{onPullDown:"_onPullDownHandler",onPullUp:"_onPullUpHandler"}},_onPullDownHandler:function(b){this.activeView.pageno=1,this.activeView.render(function(){b(),setTimeout(function(){a.plugin.lazyload.check()},500)})},_onPullUpHandler:function(b){this.activeView.renderMore(function(){b(),setTimeout(function(){a.plugin.lazyload.check()},500)})},startup:function(){function b(){var a=window.app.navigation.getParameter("content");"useful"===a&&($(".bonusType").hide(),$(".valid").on("touchend",".bonus",function(a){var b=$(a.currentTarget).find(".worth"),c=$(b).attr("data-worth"),d=encodeURIComponent($($(a.currentTarget).find(".bonusTitle")).text());window.app.navigation.push("/purchase",{type:"GET",data:{ct:d,cw:c,purchaseAmount:window.app.navigation.getParameter("purchaseAmount"),proTitle:window.app.navigation.getParameter("proTitle"),effects:window.app.navigation.getParameter("effects"),expect:window.app.navigation.getParameter("expect"),pid:window.app.navigation.getParameter("pid"),bt:window.app.navigation.getParameter("bt"),tn:window.app.navigation.getParameter("tn"),s:window.app.navigation.getParameter("s"),d:window.app.navigation.getParameter("d"),m:window.app.navigation.getParameter("m"),p:window.app.navigation.getParameter("p")}})}))}var c=this,d=this.validBonusView=a.getView("validBonusView");this.invalidBonusView=a.getView("invalidBonusView");this.validBonusView.render(function(){var a=c.template();c.html(a),$(".bonusList").append(d.el),console.log(d.el),b()}),$(document).on("touchend",".bonusType li",function(a){$(".bonusType li").removeClass("cur"),this.className="cur","valid"==$(this).attr("data-flag")?(c.activeView=c.validBonusView,$(".valid").show(),$(".invalid").hide()):(c.activeView=c.invalidBonusView,c.invalidBonusView.render(function(){$(".bonusList").append(c.invalidBonusView.el),console.log(c.invalidBonusView.el),$(".valid").hide(),$(".invalid").show()}))})},show:function(){},hide:function(){},teardown:function(){}})}(window.app),function(a,b){a.definePage({name:"defaultPage",title:"柚理财",template:"./templates/defaultPage.tpl",buttons:[{type:"back",text:"< 返回"}],plugins:{domevent:!0,pullbounce:{onPullDown:"_onPullDownHandler",onPullUp:"_onPullUpHandler"}},_onPullDownHandler:function(a){},_onPullUpHandler:function(a){},toolbar:{html:'<nav class="footnav" id="foot-nav"><a class="reco-cur" href="/ulicai/index.html?" dataid="reco">首页</a> <a class="supe" href="/ulicai/index.html?#/supe" dataid="supe">理财推荐</a> <a class="asse" href="/ulicai/index.html?#/asse" dataid="asse">我的账户</a> <a class="more" href="/ulicai/index.html?#/more" dataid="more">更多</a> </nav>',height:50},_getDta:function(a){$.ajax({url:AllUrl.getProds,dataType:"jsonp",success:function(b){console.log(b.data.upProductList[0]),a(b.data.upProductList[0])}})},startup:function(){var a=this;a._getDta(function(b){var c=a.template(b);a.html(c)})},show:function(){},hide:function(){},teardown:function(){}})}(window.app),function(a,b){a.definePage({name:"earnDayPage",title:"理财推荐",route:"/earnDay",template:'<div id="earnDay-wrap"> <h4>昨日收益详情</h4></div>',buttons:[{type:"back",text:"< 返回"}],plugins:{dynamic:!0,lazyload:!0,scrollpos:!0,domevent:!0,pullbounce:{onPullDown:"_onPullDownHandler",onPullUp:"_onPullUpHandler"}},_onPullDownHandler:function(b){this.earnDayView.pageno=1,this.earnDayView.render(function(){b(),setTimeout(function(){a.plugin.lazyload.check()},500)})},_onPullUpHandler:function(b){this.earnDayView.renderMore(function(){b(),setTimeout(function(){a.plugin.lazyload.check()},500)})},startup:function(){var b=this,c=this.earnDayView=a.getView("earnDayView");this.earnDayView.render(function(){var a=b.template({});b.html(a),$("#earnDay-wrap").append(c.el),console.log(c.el)})},show:function(){},hide:function(){},teardown:function(){var a=this.earnDayView;a.destroy()}})}(window.app),function(a,b){a.definePage({name:"findPass",title:"找回密码",route:"/findPass",template:"./templates/findPass.tpl",buttons:[{type:"back",text:"< 返回"}],plugins:{domevent:!0,pullbounce:{onPullDown:"_onPullDownHandler",onPullUp:"_onPullUpHandler"}},_onPullDownHandler:function(a){},_onPullUpHandler:function(a){},startup:function(){var a=this.template();this.html(a);$("#findPass-wrap .sendIdCode").on("click",function(a){a.preventDefault();var b=$("#tel4find").val();$.ajax({url:AllUrl.sendFindCode,dataType:"jsonp",data:{mobile:b},success:function(a){console.log(a)}})}),$("#findPass-wrap .setNewPass").on("click",function(a){var b=$("#tel4find").val();verifyTel(b);var c=$("#newPass").val();verifyPass(c),$.ajax({url:AllUrl.findPass,dataType:"jsonp",data:{mobile:b,newPwd:md5(c),verifyCode:$("#findPass-wrap #idCode4find").val()},success:function(a){console.log(a);var b=a.data.code;if("0000"===b)window.app.navigation.push("/login");else{var c=a.data.desc,d={body:"<p>"+c+"</p>",buttons:{action:{title:"确定",fn:basicModal.close}}};basicModal.show(d)}},error:function(a){var b={body:"<p>系统错误，请稍后重试！</p>",buttons:{action:{title:"确定",fn:basicModal.close}}};basicModal.show(b)}})})},show:function(){},hide:function(){},teardown:function(){}})}(window.app),function(a,b){a.definePage({name:"help",title:"常见问题",route:"/help",template:"./templates/help.tpl",buttons:[{type:"back",text:"< 返回"}],plugins:{domevent:!0,pullbounce:{onPullDown:"_onPullDownHandler",onPullUp:"_onPullUpHandler"}},_onPullDownHandler:function(a){},_onPullUpHandler:function(a){},startup:function(){var b=this.template();this.html(b),console.log(a.scroll)},show:function(){},hide:function(){},teardown:function(){}})}(window.app),function(a,b){a.definePage({name:"login",title:"登录",route:"/login",template:"./templates/login.tpl",buttons:[{type:"back",text:"< 返回"}],plugins:{domevent:!0,pullbounce:{onPullDown:"_onPullDownHandler",onPullUp:"_onPullUpHandler"}},_onPullDownHandler:function(a){},_onPullUpHandler:function(a){},startup:function(){var b=this.template();this.html(b);$(".regist").on("click",function(b){b.preventDefault(),a.navigation.push("/regist")}),$("#login-btn").on("click",function(a){var b=$("#user").val();verifyTel(b);var c=$("#password").val();$.ajax({url:AllUrl.loginUrl,dataType:"jsonp",data:{mobile:b,pwd:md5(c)},success:function(a){console.log(a);var b=a.data.code;if("0000"===b)window.app.navigation.push("/asse");else{var c=a.data.desc,d={body:"<p>"+c+"</p>",buttons:{action:{title:"确定",fn:basicModal.close}}};basicModal.show(d)}},error:function(a){var b={body:"<p>系统错误，请稍后重试！</p>",buttons:{action:{title:"确定",fn:basicModal.close}}};basicModal.show(b)}})})},show:function(){},hide:function(){},teardown:function(){}})}(window.app),function(a,b){a.definePage({name:"manageCard",title:"银行卡管理",route:"/manageCard",template:"./templates/manageCard.tpl",buttons:[{type:"back",text:"< 返回"},{type:"func",text:"添加",handler:function(){var a={body:'<ul class="popAddCard"><li class="debitCard">添加储蓄卡</li><li class="creditCard">添加信用卡</li></ul>',buttons:{cancel:{title:"取消","class":basicModal.THEME.xclose,fn:basicModal.close}}};basicModal.show(a)}}],plugins:{domevent:!0,pullbounce:{onPullDown:"_onPullDownHandler",onPullUp:"_onPullUpHandler"}},_onPullDownHandler:function(a){},_onPullUpHandler:function(a){},_getDta:function(a){var b=AllUrl.getCardList;$.ajax({url:b,dataType:"jsonp",success:function(b){console.log(b);var c=b.data;if(len=c.bankList.length,0!==len)for(var d=0;d<len;d++){var e=c.bankList[d].cardType.toString();switch(e){case"2":c.bankList[d].cardType="储蓄卡";break;case"3":c.bankList[d].cardType="信用卡"}}a(c)}})},startup:function(){var a=this;a._getDta(function(b){var c=b.bankList.length,d=a.template(b);a.html(d),0==c&&$("#manageCard-wrap").append("<div>暂无绑定银行卡</div>"),$(document).on("touchend","span.addCard",function(){var a={body:'<ul class="popAddCard"><li class="debitCard">添加储蓄卡</li><li class="creditCard">添加信用卡</li></ul>',buttons:{cancel:{title:"取消","class":basicModal.THEME.xclose,fn:basicModal.close}}};basicModal.show(a)});var e=window.app.navigation.getParameter("content");"useful"===e&&$("#manageCard-wrap").on("touchend","ul.cardList",function(a){window.app.navigation.push("/purchase",{type:"GET",data:{bt:encodeURIComponent($(a.currentTarget).attr("data-bt")),tn:$(a.currentTarget).attr("data-tn"),s:$(a.currentTarget).attr("data-s"),d:$(a.currentTarget).attr("data-d"),m:$(a.currentTarget).attr("data-m"),p:$(a.currentTarget).attr("data-p"),purchaseAmount:window.app.navigation.getParameter("purchaseAmount"),proTitle:window.app.navigation.getParameter("proTitle"),effects:window.app.navigation.getParameter("effects"),expect:window.app.navigation.getParameter("expect"),pid:window.app.navigation.getParameter("pid"),ct:window.app.navigation.getParameter("ct"),cw:window.app.navigation.getParameter("cw")}})})}),$(document).on("touchend",".popAddCard li",function(a){basicModal.close();var b=$(a.currentTarget)[0].className;"debitCard"==b?window.app.navigation.push("/addDebitCard",{type:"GET",data:{card_type:2}}):"creditCard"==b&&window.app.navigation.push("/addDebitCard",{type:"GET",data:{card_type:3}})}),$(".addCard").on("touchend",function(a){alert(1)})},show:function(){},hide:function(){},teardown:function(){}})}(window.app),function(a,b){a.definePage({name:"modPass",title:"修改密码",route:"/modPass",template:"./templates/modPass.tpl",buttons:[{type:"back",text:"< 返回"}],plugins:{domevent:!0,pullbounce:{onPullDown:"_onPullDownHandler",onPullUp:"_onPullUpHandler"}},_onPullDownHandler:function(a){},_onPullUpHandler:function(a){},startup:function(){var a=this.template();this.html(a);$("#modPass-wrap .sendIdCode").on("click",function(a){a.preventDefault(),$.ajax({url:AllUrl.sendModCode,dataType:"jsonp",success:function(a){console.log(a)}})}),$("#modPass-wrap .setNewPass").on("click",function(a){var b=$("#modPass-wrap .oldPass").val(),c=$("#modPass-wrap .newPass").val(),d=$("#modPass-wrap .verifyCode").val();verifyPass(c),$.ajax({url:AllUrl.modPass,dataType:"jsonp",data:{oldPwd:md5(b),newPwd:md5(c),verifyCode:d},success:function(a){console.log(a);var b=a.data.code;if("0000"===b)window.app.navigation.push("/login");else{var c=a.data.desc,d={
body:"<p>"+c+"</p>",buttons:{action:{title:"确定",fn:basicModal.close}}};basicModal.show(d)}},error:function(a){var b={body:"<p>系统错误，请稍后重试！</p>",buttons:{action:{title:"确定",fn:basicModal.close}}};basicModal.show(b)}})})},show:function(){},hide:function(){},teardown:function(){}})}(window.app),function(a,b){a.definePage({name:"morePage",title:"更多",route:"/more",template:"./templates/morePage.tpl",buttons:[{type:"back",text:"< 返回"}],plugins:{domevent:!0,pullbounce:{onPullDown:"_onPullDownHandler",onPullUp:"_onPullUpHandler"}},_onPullDownHandler:function(a){},_onPullUpHandler:function(a){},toolbar:{html:'<nav class="footnav" id="foot-nav"><a class="reco" href="/ulicai/index.html?" dataid="reco">首页</a> <a class="supe" href="/ulicai/index.html?#/supe" dataid="supe">理财推荐</a> <a class="asse" href="" dataid="asse">我的账户</a> <a class="more-cur" href="/ulicai/index.html?#/more" dataid="more">更多</a> </nav>',height:50},startup:function(){var a=this.template();this.html(a),$(document).on("touchend",".more-menu li",function(a){a.preventDefault();var b=$(a.currentTarget)[0].className;if(-1!==b.indexOf("help"))window.app.navigation.push("/help");else{var c={body:"<p>正在建设中...</p>",buttons:{action:{title:"确定",fn:function(a){basicModal.close()}}}};basicModal.show(c)}})},show:function(){},hide:function(){},teardown:function(){}})}(window.app),function(a,b){a.definePage({name:"proInfo",title:"基本信息",route:"/proInfo",template:"./templates/proInfo.tpl",buttons:[{type:"back",text:"< 返回"}],plugins:{domevent:!0,pullbounce:{onPullDown:"_onPullDownHandler",onPullUp:"_onPullUpHandler"}},_onPullDownHandler:function(a){},_onPullUpHandler:function(a){},_getDta:function(a){},_getDayObj:function(a){if("number"==typeof a){var b,c,d,e=new Date,f=e.getFullYear(),g=e.getMonth(),h=e.getDay(),i=new Date(e.getTime()+24*a*60*60);return b=i.getFullYear(),c=i.getMonth(),d=i.getDay(),{beginDay:f+(10>g+1?"-0"+(g+1):"-"+(g+1))+(10>h+1?"-0"+(h+1):"-"+(h+1)),endDay:b+(10>c+1?"-0"+(c+1):"-"+(c+1))+(10>d+1?"-0"+(d+1):"-"+(d+1))}}},startup:function(){var a=this,b={proTilte:decodeURIComponent(window.app.navigation.getParameter("proTitle")),totalAmount:window.app.navigation.getParameter("totalAmount"),effects:window.app.navigation.getParameter("effects"),expect:window.app.navigation.getParameter("expect")};dayObj=a._getDayObj(parseInt(b.expect)),b.begainDay=dayObj.beginDay,b.endDay=dayObj.endDay;var c=a.template(b);a.html(c)},show:function(){},hide:function(){},teardown:function(){}})}(window.app),function(a,b){a.definePage({name:"productDetails",title:"产品详情",route:"/productDetails",template:"./templates/productDetails.tpl",buttons:[{type:"back",text:"< 返回"}],plugins:{domevent:!0,pullbounce:{onPullDown:"_onPullDownHandler",onPullUp:"_onPullUpHandler"}},_onPullDownHandler:function(a){},_onPullUpHandler:function(a){},_getDta:function(a){var b=AllUrl.getProds,c=window.app.navigation.getParameter("productId");$.ajax({url:b+"&productId="+c,dataType:"jsonp",success:function(b){var c=b.data.upProductList[0];console.log(c),c["if(canBuy==true)"]=function(){return c.restAmount>0?!0:!1},c["if(canBuy==false)"]=function(){return c.restAmount>0?!1:!0},a(c)}})},startup:function(){var a=this,b={};a._getDta(function(c){var d=a.template(c);a.html(d),b.totalAmount=c.totalAmount,b.effects=c.rate,b.expect=c.prodPeriod,b.minBuy=c.minBuyAmount,b.proTitle=c.productName,b.pid=c.productId}),$(document).on("touchend",".buyNow,.moreDetails span",function(a){a.preventDefault();var c=$("#purchaseAmount").val(),d=this.className;if("buyNow"===d)if(c<b.minBuy){var e={body:"<p>"+b.minBuy+"起购</p>",buttons:{action:{title:"关闭",fn:basicModal.close}}};basicModal.show(e)}else window.app.navigation.push("/purchase?purchaseAmount="+c+"&proTitle="+encodeURIComponent(b.proTitle)+"&effects="+b.effects+"&expect="+b.expect+"&pid="+b.pid);else"proInfo"===d?window.app.navigation.push("/baseInfo"):"baseInfo"===d&&window.app.navigation.push("/proInfo?totalAmount="+b.totalAmount+"&effects="+b.effects+"&expect="+b.expect+"&proTitle="+encodeURIComponent(b.proTitle))}),$(document).on("touchend",".gray",function(a){console.log("无效")})},show:function(){},hide:function(){},teardown:function(){}})}(window.app),function(a,b){a.definePage({name:"purchase",title:"购买",route:"/purchase",template:"./templates/purchase.tpl",buttons:[{type:"back",text:"< 返回"}],plugins:{domevent:!0,pullbounce:{onPullDown:"_onPullDownHandler",onPullUp:"_onPullUpHandler"}},_onPullDownHandler:function(a){},_onPullUpHandler:function(a){},_getDta:function(a){},startup:function(){var a={purchaseAmount:window.app.navigation.getParameter("purchaseAmount"),proTitle:decodeURIComponent(window.app.navigation.getParameter("proTitle")),effects:window.app.navigation.getParameter("effects"),expect:window.app.navigation.getParameter("expect"),pid:window.app.navigation.getParameter("pid")},b=100;a.expectIncome=b;var c=decodeURIComponent(window.app.navigation.getParameter("bt"));a.bt="undefined"==c?"":c,a.tn=window.app.navigation.getParameter("tn"),a.s=window.app.navigation.getParameter("s"),a.d=window.app.navigation.getParameter("d"),a.m=window.app.navigation.getParameter("m"),a.p=window.app.navigation.getParameter("p");var d=decodeURIComponent(window.app.navigation.getParameter("ct"));a.ct="undefined"==d?"":d,a.cw=window.app.navigation.getParameter("cw");var e=this.template(a);this.html(e),$.ajax({url:AllUrl.getRevenue,dataType:"jsonp",data:{buyAmount:a.purchaseAmount,productId:a.pid},success:function(a){console.log(a),"0000"==a.code&&$("#purchaseAmount").attr("data","预计收益"+a.data.prosRevenue+"元")}}),$(".getBonus").tap(function(){window.app.navigation.push("/bonus",{type:"GET",data:{content:"useful",purchaseAmount:a.purchaseAmount,proTitle:encodeURIComponent(a.proTitle),effects:a.effects,expect:a.expect,pid:a.pid,bt:encodeURIComponent($(".sltBank").attr("data-bt")),tn:$(".sltBank").attr("data-tn"),s:$("#bankLimit").attr("data-s"),d:$("#bankLimit").attr("data-d"),m:$("#bankLimit").attr("data-m"),p:$("#bankLimit").attr("data-p")}})}),$(".getBank").tap(function(){window.app.navigation.push("/manageCard",{type:"GET",data:{content:"useful",purchaseAmount:a.purchaseAmount,proTitle:encodeURIComponent(a.proTitle),effects:a.effects,expect:a.expect,pid:a.pid,ct:encodeURIComponent($(".sltBonus").attr("data-ct")),cw:$(".sltBonus").attr("data-cw")}})})},show:function(){},hide:function(){},teardown:function(){$(".getBonus").off(),$(".getBank").off()}})}(window.app),function(a,b){a.definePage({name:"regist",title:"注册",route:"/regist",template:"./templates/regist.tpl",buttons:[{type:"back",text:"< 返回"}],plugins:{domevent:!0,pullbounce:{onPullDown:"_onPullDownHandler",onPullUp:"_onPullUpHandler"}},_onPullDownHandler:function(a){},_onPullUpHandler:function(a){},startup:function(){var a=this.template();this.html(a);$("#registBtn1").on("click",function(a){var b=$("#telNum").val(),c=$("#passCode").val();$.ajax({url:AllUrl.registUrl,dataType:"jsonp",data:{mobile:b,pwd:c},success:function(a){console.log(a);var b=a.data.code;if("0000"===b)window.app.navigation.push("/asse");else{var c=a.data.desc,d={body:"<p>"+c+"</p>",buttons:{action:{title:"确定",fn:basicModal.close}}};basicModal.show(d)}},error:function(a){var b={body:"<p>系统错误，请稍后重试！</p>",buttons:{action:{title:"确定",fn:basicModal.close}}};basicModal.show(b)}})}),$(document).on("click","#registForm .verifyCode,#registBtn",function(a){var b=$(a.currentTarget)[0].className,c=$("#telNum").val();if(verifyTel(c),"registBtn"==b){var d=$("#passCode").val();verifyPass(d),$.ajax({url:AllUrl.registUrl,dataType:"jsonp",data:{mobile:c,pwd:md5(d),verifyCode:"1234"},success:function(a){console.log(a);var b=a.data.code;if("0000"===b)window.app.navigation.push("/asse");else{var c=a.data.desc,d={body:"<p>"+c+"</p>",buttons:{action:{title:"确定",fn:basicModal.close}}};basicModal.show(d)}},error:function(a){var b={body:"<p>系统错误，请稍后重试！</p>",buttons:{action:{title:"确定",fn:basicModal.close}}};basicModal.show(b)}})}else"verifyCode"==b&&$.ajax({url:AllUrl.sendRegCode,data:{mobile:c},dataType:"jsonp",success:function(a){console.log(a)}})})},show:function(){},hide:function(){},teardown:function(){}})}(window.app),function(a,b){a.definePage({name:"supermarketPage",title:"理财推荐",route:"/supe",template:"./templates/supermarketPage.tpl",buttons:[{type:"back",text:"< 返回"}],plugins:{dynamic:!0,lazyload:!0,scrollpos:!0,domevent:!0,pullbounce:{onPullDown:"_onPullDownHandler",onPullUp:"_onPullUpHandler"}},toolbar:{html:'<nav class="footnav" id="foot-nav"><a class="reco" href="/ulicai/index.html?" dataid="reco">首页</a><a class="supe-cur" href="/ulicai/index.html?#/supe" dataid="supe">理财推荐</a><a class="asse" href="" dataid="asse">我的账户</a> <a class="more" href="/ulicai/index.html?#/more" dataid="more">更多</a> </nav>',height:50},_onPullDownHandler:function(b){this.itemViews.pageno=1,this.itemViews.render(function(){b(),setTimeout(function(){a.plugin.lazyload.check()},500)})},_onPullUpHandler:function(b){this.itemViews.renderMore(function(){b(),setTimeout(function(){a.plugin.lazyload.check()},500)})},_getDta:function(a){var b=AllUrl.getProds;$.ajax({url:b,dataType:"jsonp",success:function(b){a(b.data)}})},startup:function(){var b=this,c=this.itemViews=a.getView("supermarketView");this.itemViews.render(function(){b._getDta(function(a){var d=b.template(a);b.html(d),$("#supe-wrap").append(c.el),console.log(c.el)})})},show:function(){},hide:function(){},teardown:function(){}})}(window.app),function(a,b){a.definePage({name:"totalEarnPage",title:"理财推荐",route:"/totalEarn",template:'<div id="totalEarn-wrap"> <h4>累计收益详情</h4></div>',buttons:[{type:"back",text:"< 返回"}],plugins:{dynamic:!0,lazyload:!0,scrollpos:!0,domevent:!0,pullbounce:{onPullDown:"_onPullDownHandler",onPullUp:"_onPullUpHandler"}},_onPullDownHandler:function(b){this.totalEarnView.pageno=1,this.totalEarnView.render(function(){b(),setTimeout(function(){a.plugin.lazyload.check()},500)})},_onPullUpHandler:function(b){this.totalEarnView.renderMore(function(){b(),setTimeout(function(){a.plugin.lazyload.check()},500)})},startup:function(){var b=this,c=this.totalEarnView=a.getView("totalEarnView");this.totalEarnView.render(function(){var a=b.template({});b.html(a),$("#totalEarn-wrap").append(c.el),console.log(c.el)})},show:function(){},hide:function(){},teardown:function(){var a=this.totalEarnView;a.destroy()}})}(window.app),function(a,b){a.definePage({name:"transaction",title:"交易记录",route:"/transaction",template:"./templates/transaction.tpl",buttons:[{type:"back",text:"< 返回"}],toolbar:{html:'<nav class="footnav" id="foot-nav"><a class="reco-cur" href="/ulicai/index.html?" dataid="reco">首页</a> <a class="supe" href="/ulicai/index.html?#/supe" dataid="supe">理财推荐</a> <a class="asse" href="" dataid="asse">我的账户</a> <a class="more" href="/ulicai/index.html?#/more" dataid="more">更多</a> </nav>',height:50},plugins:{dynamic:!0,lazyload:!0,scrollpos:!0,domevent:!0,pullbounce:{onPullDown:"_onPullDownHandler",onPullUp:"_onPullUpHandler"}},_onPullDownHandler:function(b){this.transactionView.pageno=1,this.transactionView.render(function(){b(),setTimeout(function(){a.plugin.lazyload.check()},500)})},_onPullUpHandler:function(b){this.transactionView.renderMore(function(){b(),setTimeout(function(){a.plugin.lazyload.check()},500)})},_getDta:function(a){$.ajax({url:"/ulicai/data/transaction.json",dataType:"json",success:function(b){a(b)}})},startup:function(){var b=this,c=this.transactionView=a.getView("transactionView");this.transactionView.render(function(){b._getDta(function(a){var d=b.template(a);b.html(d),$("#transaction-wrap").append(c.el),console.log(c.el)})}),$(document).on("touchend",".record p",function(a){a.preventDefault();var b=$(a.target.nextElementSibling)[0];$(b).hasClass("expand")?$(b).removeClass("expand"):$(b).addClass("expand")})},show:function(){},hide:function(){},teardown:function(){}})}(window.app);